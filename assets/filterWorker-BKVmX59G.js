(function(){"use strict";const y=t=>(t??"").toLocaleLowerCase("es").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/[\u0300-\u036f]/g,""),h=(t,s)=>{if(s==="weekdays")return!0;const r=t?.unassistences;return!Array.isArray(r)||r.length===0?!1:r.some(u=>{const e=u?.day;if(!e||typeof e!="string")return!1;const n=e.split("-");if(n.length!==3)return!1;const[c,o,f]=n,l=Number(c),a=Number(o),d=Number(f);if(Number.isNaN(l)||Number.isNaN(a)||Number.isNaN(d))return!1;const p=2e3+d,i=new Date(p,a-1,l).getDay();switch(s){case"monday":return i===1;case"tuesday":return i===2;case"wednesday":return i===3;case"thursday":return i===4;case"friday":return i===5;default:return!1}})},m=(t,s,r)=>{const e=y(s).split(/\s+/).filter(Boolean);return e.length===0&&r==="weekdays"?t:t.filter(n=>{const c=e.length===0||e.every(f=>Object.entries(n).some(([l,a])=>l==="unassistences"||Array.isArray(a)?!1:typeof a=="string"&&y(a).includes(f))),o=h(n,r);return c&&o})};self.onmessage=t=>{const s=t.data;if(!s||s.type!=="filter")return;const{id:r,data:u,globalSearch:e,dayFilter:n}=s,c=m(u,e,n),o={id:r,type:"result",rows:c};self.postMessage(o)}})();
